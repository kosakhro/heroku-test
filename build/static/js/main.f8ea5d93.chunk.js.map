{"version":3,"sources":["components/Filter.js","components/Contact.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","searchValue","onChange","handleSearchPresent","Button","handleClick","text","onClick","Contact","contact","name","number","id","PersonForm","onSubmit","addPerson","newName","handleNamePresent","newNumber","handleNumberPresent","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchValue","changeMessage","setChangeMessage","useEffect","personService","initialNotes","console","log","length","handleDelete","person","find","p","window","confirm","filter","personsToShow","toLowerCase","includes","event","target","preventDefault","names","map","indexOf","returnedPerson","concat","setTimeout","catch","error","n","changedPerson","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8ea5d93.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = (props) => {\n    return(\n        <form >\n            <div>\n                filter shown with: \n                <input \n                value={props.searchValue}\n                onChange={props.handleSearchPresent}\n                />\n            </div>\n        </form> \n\n    )\n\n}\n\n\nexport default Filter","import React from 'react'\n\n\nconst Button = ({ handleClick, text }) => (\n  <button onClick={handleClick}>\n    {text}\n  </button>\n)\n\nconst Contact = ({contact, onClick}) => {\n    return (\n        <div>{contact.name} {contact.number} <Button handleClick={() => onClick(contact.id)} text='delete' /></div>\n    )\n  }\n\n\nexport default Contact","import React from 'react'\n\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n        <div>\n          name: <input \n                  value={props.newName}\n                  onChange={props.handleNamePresent}\n                  />\n        </div>\n        <div>\n          number: <input \n                  value={props.newNumber}\n                  onChange={props.handleNumberPresent}\n                  />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteContact = id => {\n   return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { \n    getAll, \n    create, \n    update,\n    deleteContact\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) return null\n  return (\n    <div className=\"change\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Contact from './components/Contact'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\n\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [searchValue, setSearchValue] = useState('')\n  const [changeMessage, setChangeMessage] = useState(null)\n\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const names = persons.map((contact) => contact.name.toLowerCase());\n    console.log(names.indexOf(newName))\n    if (names.indexOf(newName) === -1){\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setChangeMessage(`Added .${newName}.`)\n      setTimeout(() => {\n        setChangeMessage(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n      })\n      \n      \n      .catch(error => {\n        console.log(error.response.data)\n        setChangeMessage(error.response.data.error)\n      setTimeout(() => {\n        setChangeMessage(null)\n      }, 5000)\n      })\n    }\n    else if (window.confirm(`${newName} is already added to phonebook, replace the phone number with new one?`)){\n      const person = persons.find(n => n.name === newName)\n      console.log('person number:', person.number);\n      const changedPerson = { ...person, number: newNumber }\n      console.log('changed person number:', changedPerson.number);\n    \n      personService\n        .update(person.id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n        })\n        .catch(error => {\n          alert(\n            `the person '${person.name}' was already deleted from server`\n          )\n          setPersons(persons.filter(n => n.id !== person.id))     \n        })\n        \n\n    }\n\n\n\n  }\n\n\n  const handleDelete = id => {\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n     personService.deleteContact(id).then(() => {\n        setPersons(persons.filter(p => p.id !== id))\n     })\n    }\n  }\n\n\n  const handleNamePresent = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value)\n  }\n\n  const handleNumberPresent = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchPresent = (event) => {\n    console.log(event.target.value);\n    setSearchValue(event.target.value)\n  }\n\n  const personsToShow = persons.filter(person => \n    person.name.toLowerCase().includes(searchValue.toLowerCase()) === true)\n\n\n  return (       \n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={changeMessage} />\n\n\n      <Filter searchValue = {searchValue} handleSearchPresent = {handleSearchPresent} />\n\n         \n      <h2>add a new</h2>\n\n      <PersonForm \n      addPerson={addPerson} \n      newName={newName}\n      handleNamePresent={handleNamePresent}\n      newNumber={newNumber}\n      handleNumberPresent={handleNumberPresent}  \n      />\n\n\n      <h2>Numbers</h2>\n\n      <div>\n        {personsToShow.map(person =>  <Contact key={person.name} contact={person} onClick = {handleDelete} />)}\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}