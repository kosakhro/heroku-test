{"version":3,"sources":["components/Filter.js","components/Contact.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","searchValue","onChange","handleSearchPresent","Button","handleClick","text","onClick","Contact","contact","name","number","id","PersonForm","onSubmit","addPerson","newName","handleNamePresent","newNumber","handleNumberPresent","type","baseUrl","request","axios","get","nonExisting","then","response","data","concat","newObject","post","put","delete","Notification","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchValue","changeMessage","setChangeMessage","useEffect","personService","initialNotes","console","log","length","handleDelete","person","find","p","window","confirm","filter","personsToShow","toLowerCase","includes","event","target","preventDefault","names","map","indexOf","returnedPerson","n","changedPerson","catch","error","alert","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.75a7ef06.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = (props) => {\n    return(\n        <form >\n            <div>\n                filter shown with: \n                <input \n                value={props.searchValue}\n                onChange={props.handleSearchPresent}\n                />\n            </div>\n        </form> \n\n    )\n\n}\n\n\nexport default Filter","import React from 'react'\n\n\nconst Button = ({ handleClick, text }) => (\n  <button onClick={handleClick}>\n    {text}\n  </button>\n)\n\nconst Contact = ({contact, onClick}) => {\n    return (\n        <div>{contact.name} {contact.number} <Button handleClick={() => onClick(contact.id)} text='delete' /></div>\n    )\n  }\n\n\nexport default Contact","import React from 'react'\n\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n        <div>\n          name: <input \n                  value={props.newName}\n                  onChange={props.handleNamePresent}\n                  />\n        </div>\n        <div>\n          number: <input \n                  value={props.newNumber}\n                  onChange={props.handleNumberPresent}\n                  />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\n\nexport default PersonForm","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    const nonExisting = {\n      id: 10000,\n      name: 'pipa',\n      number: '2019-05-30T17:30:31.098Z'\n    }\n    return request.then(response => response.data.concat(nonExisting))\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteContact = id => {\n   return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { \n    getAll, \n    create, \n    update,\n    deleteContact\n}","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) return null\n  return (\n    <div className=\"change\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Contact from './components/Contact'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\n\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('njkj')\n  const [ newNumber, setNewNumber ] = useState('123')\n  const [searchValue, setSearchValue] = useState('')\n  const [changeMessage, setChangeMessage] = useState(null)\n\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n      })\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const names = persons.map((contact) => contact.name.toLowerCase());\n    console.log(names.indexOf(newName))\n    if (names.indexOf(newName) === -1){\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n      })\n      setNewName('')\n      setNewNumber('')\n    }\n    else if (window.confirm(`${newName} is already added to phonebook, replace the phone number with new one?`)){\n      const person = persons.find(n => n.name === newName)\n      console.log('person number:', person.number);\n      const changedPerson = { ...person, number: newNumber }\n      console.log('changed person number:', changedPerson.number);\n    \n      personService\n        .update(person.id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== changedPerson.id ? person : returnedPerson))\n        })\n        .catch(error => {\n          alert(\n            `the person '${person.name}' was already deleted from server`\n          )\n          setPersons(persons.filter(n => n.id !== person.id))     \n        })\n        \n\n    }\n\n    setChangeMessage(`Added ..`)\n    setTimeout(() => {\n      setChangeMessage(null)\n    }, 5000)\n\n  }\n\n\n  const handleDelete = id => {\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n     personService.deleteContact(id).then(() => {\n        setPersons(persons.filter(p => p.id !== id))\n     })\n    }\n  }\n\n\n  const handleNamePresent = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value)\n  }\n\n  const handleNumberPresent = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchPresent = (event) => {\n    console.log(event.target.value);\n    setSearchValue(event.target.value)\n  }\n\n  const personsToShow = persons.filter(person => \n    person.name.toLowerCase().includes(searchValue.toLowerCase()) === true)\n\n\n  return (       \n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={changeMessage} />\n\n\n      <Filter searchValue = {searchValue} handleSearchPresent = {handleSearchPresent} />\n\n         \n      <h2>add a new</h2>\n\n      <PersonForm \n      addPerson={addPerson} \n      newName={newName}\n      handleNamePresent={handleNamePresent}\n      newNumber={newNumber}\n      handleNumberPresent={handleNumberPresent}  \n      />\n\n\n      <h2>Numbers</h2>\n\n      <div>\n        {personsToShow.map(person =>  <Contact key={person.name} contact={person} onClick = {handleDelete} />)}\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\n\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}